<!DOCTYPE html>
<html>
  <head>
    <title>Chat App</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
      body { font-family: "Segoe UI", Tahoma, sans-serif; background: #ece5dd; margin: 0; padding: 0; display:flex; flex-direction:column; align-items:center; height:100vh; }
      h2 { margin: 0; background: #075e54; color:white; padding:12px; width:100%; text-align:center; font-size:1.2em; position:relative; }
      #profile-icon { position:absolute; right:15px; top:8px; cursor:pointer; font-size:22px; }
      #profile-menu { display:none; position:absolute; right:10px; top:45px; background:white; border-radius:6px; box-shadow:0 3px 6px rgba(0,0,0,0.2); width:220px; padding:10px; z-index:1000; }
      #profile-menu img { width:60px; height:60px; border-radius:50%; display:block; margin:0 auto 10px; }
      #profile-menu p { margin:5px 0; font-size:0.9em; text-align:center; }
      #avatar-url { width:100%; padding:6px; margin-top:8px; border:1px solid #ccc; border-radius:4px; }
      #change-avatar { margin-top:6px; width:100%; background:#128c7e; color:white; border:none; padding:8px; border-radius:6px; cursor:pointer; }
      #logout-btn { background:#d9534f; color:white; border:none; padding:8px; width:100%; margin-top:8px; border-radius:6px; cursor:pointer; }

      #chat-screen { display:flex; flex-direction:column; align-items:center; width:100%; height:100%; max-width:600px; }
      #messages { list-style:none; padding:10px; margin:0; width:100%; flex:1; overflow-y:auto; border-radius:10px; box-shadow:0 3px 8px rgba(0,0,0,0.2); display:flex; flex-direction:column;
        background:url("https://t4.ftcdn.net/jpg/06/20/09/91/360_F_620099106_87XhpxWUWwNSENwYl3mgc754k1Gpppgb.jpg") no-repeat center center; background-size:cover; }
      #messages li { max-width:80%; margin:5px 0; padding:8px 12px; border-radius:15px; font-size:0.95em; display:flex; flex-direction:column; }
      .avatar { width:25px; height:25px; border-radius:50%; margin-bottom:3px; }
      .my-message { align-self:flex-end; background:#dcf8c6; border-bottom-right-radius:0; }
      .other-message { align-self:flex-start; background:#ffffff; border:1px solid #ececec; border-bottom-left-radius:0; }
      .reply-box{ font-size:0.8em; color:#444; border-left:3px solid #888; margin-bottom:5px; padding-left:6px; opacity:0.8; }
      .timestamp { font-size:0.75em; color:#555; text-align:right; width:100%; margin-top:3px; }

      /* ‚úÖ fix message input row */
      form { display:flex; width:100%; max-width:600px; margin-top:5px; background:#f0f0f0; padding:5px; border-radius:25px; }
      input { flex:1; padding:10px; border:none; border-radius:20px; outline:none; font-size:1em; }
      form button { background:#075e54; color:white; border:none; padding:10px 15px; margin-left:5px; border-radius:50%; cursor:pointer; transition:background 0.2s; }
      form button:hover { background:#128c7e; }

      /* ‚úÖ fix Clear / Alert buttons */
      #clear-btn, #alert-btn {
        margin: 8px 0;
        border:none;
        padding:10px 16px;
        border-radius:25px;
        cursor:pointer;
        font-size:0.9em;
        color:white;
        width:140px;
        text-align:center;
      }
      #clear-btn { background:#d9534f; }
      #clear-btn:hover { background:#c9302c; }
      #alert-btn { background:#ff0000; }
      #alert-btn:hover { background:#b30000; }

      #alert-box { display:none; position:fixed; top:20px; width:90%; max-width:500px; margin:auto; z-index:1000; background:#d9534f; color:white; font-weight:bold; padding:15px; border-radius:10px; text-align:center; box-shadow:0 3px 8px rgba(0,0,0,0.3); animation:pulse 1s infinite; }
      @keyframes pulse { 0%{ transform:scale(1); opacity:1; } 50%{ transform:scale(1.05); opacity:0.8; } 100%{ transform:scale(1); opacity:1; } }
    </style>
  </head>
  <body>
    <div id="alert-box"></div>
    <h2>üí¨ Chat App
      <span id="profile-icon">üë§</span>
      <div id="profile-menu">
        <img id="profile-pic" src="/default-avatar.png" alt="avatar">
        <input type="text" id="avatar-url" placeholder="Paste avatar image URL">
        <button id="change-avatar">Change Avatar</button>
        <p><strong id="profile-name">Username</strong></p>
        <p id="profile-email">Email</p>
        <button id="logout-btn">Logout</button>
      </div>
    </h2>

    <div id="chat-screen">
      <ul id="messages"></ul>
      <div id="reply-preview"></div>
      <form id="form">
        <input id="input" autocomplete="off" placeholder="Type a message..." />
        <button>‚û§</button>
      </form>
      <button id="clear-btn">üóëÔ∏è Clear Chat</button>
      <button id="alert-btn">üö® Send Alert</button>
    </div>

    <!-- ‚úÖ Your existing JS logic stays the same -->
    <script src="/socket.io/socket.io.js"></script>
    <script>
      // (the exact same JS you had for sockets, addMessage, reply, alerts, etc.)
    </script>
  </body>
</html>